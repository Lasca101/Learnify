<!DOCTYPE html>
<html>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
<head>
</head>
<body>
    <header>
        <a href="../homepage/homepage.html" class="arrow-button">
            <i class="fas fa-arrow-left"></i>
          </a>
    </header>
    <div class="container">
        <input type="checkbox" id="check">
        <div class="login form">
            <header>Login</header>
            <form>
                <input type="text" id="loginEmail" placeholder="Enter your email">
                <input type="password" id="loginPassword" placeholder="Enter your password">
                <a href="#">Forgot password?</a>
                <input type="button" class="button" value="Login" onclick="login()">
            </form>
            <div class="signup">
                <span class="signup">Don't have an account?
                 <label for="check">Signup</label>
                </span>
            </div>
        </div>
        <div class="registration form">
            <header>Signup</header>
            <form>
                <input type="text" id="signupEmail" placeholder="Enter your email">
                <input type="password" id="signupPassword" placeholder="Create a password">
                <input type="password" id="confirmPassword" placeholder="Confirm your password">
                <input type="button" class="button" value="Signup" onclick="signup()">
            </form>
            <div class="signup">
                <span class="signup">Already have an account?
                 <label for="check">Login</label>
                </span>
            </div>
        </div>
    </div>
  
    <script>
        const loginForm = document.querySelector('.login.form');
        const registrationForm = document.querySelector('.registration.form');
        const loginEmailInput = document.getElementById('loginEmail');
        const loginPasswordInput = document.getElementById('loginPassword');
        const signupEmailInput = document.getElementById('signupEmail');
        const signupPasswordInput = document.getElementById('signupPassword');
        const confirmPasswordInput = document.getElementById('confirmPassword');
    
        // Verifica se já existe um usuário logado no LocalStorage
        const isLoggedIn = localStorage.getItem('isLoggedIn');
    
        if (isLoggedIn) {
            redirectToHome();
        }
    
        // Função para fazer login
        function login() {
            const email = loginEmailInput.value;
            const password = loginPasswordInput.value;
    
            // Verifica se os campos estão preenchidos
            if (email && password) {
                // Simula um processo de autenticação
                // Você precisa implementar a lógica de autenticação real aqui
                // Por exemplo, fazer uma chamada AJAX para um servidor
                // Verificar se o usuário e a senha estão corretos
    
                // Após a autenticação bem-sucedida, salva o estado de login no LocalStorage
                localStorage.setItem('isLoggedIn', true);
    
                redirectToHome();
            } else {
                alert('Please enter your email and password.');
            }
        }
    
        // Função para realizar o cadastro
        function signup() {
            const email = signupEmailInput.value;
            const password = signupPasswordInput.value;
            const confirmPassword = confirmPasswordInput.value;
    
            // Verifica se os campos estão preenchidos
            if (email && password && confirmPassword) {
                // Verifica se as senhas correspondem
                if (password === confirmPassword) {
                    // Simula o armazenamento do novo usuário
                    // Você precisa implementar a lógica real para salvar o usuário
                    // Por exemplo, fazer uma chamada AJAX para um servidor
    
                    // Após o cadastro bem-sucedido, salva o estado de login no LocalStorage
                    localStorage.setItem('isLoggedIn', true);
    
                    redirectToHome();
                } else {
                    alert('Passwords do not match.');
                }
            } else {
                alert('Please fill in all fields.');
            }
        }
    
        // Função para redirecionar para a página de home.html
        function redirectToHome() {
            window.location.href = "../homepage/homepage.html";
        }
    
        
    </script>
</body>
</html>
